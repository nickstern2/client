{"version":3,"sources":["apis/streams.js","history.jsx","actions/index.js","actions/types.jsx","components/streams/StreamForm.jsx","components/streams/StreamCreate.jsx","components/streams/StreamEdit.jsx","components/Modal.jsx","components/streams/StreamDelete.jsx","components/streams/StreamList.jsx","components/streams/StreamShow.jsx","components/GoogleAuth.jsx","components/Header.jsx","components/App.jsx","reducers/authReducer.jsx","reducers/index.js","reducers/streamReducer.jsx","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamEdit","editStream","match","params","console","log","stream","initialValues","_","pick","state","ownProps","patch","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","onDeleteStream","deleteStream","Fragment","to","renderContent","renderActions","delete","StreamList","renderList","map","key","renderAdmin","fetchStreams","currentUserId","isSignedIn","style","textAlign","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","require","config","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","process","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.fe12c8cb.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://twitch-server.herokuapp.com/'\n});\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import streams from '../apis/streams';\nimport history from '../history';\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n}  from './types';\n\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = (formValues) => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post('/streams', { ...formValues, userId });\n\n  dispatch({  type: CREATE_STREAM, payload: response.data });\n  history.push('/');\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('/streams');\n\n\n  dispatch({  type: FETCH_STREAMS, payload: response.data });\n};\n\nexport const fetchStream = (id) => async dispatch => {\n  const response = await streams.get(`/streams/${id}`);\n\n  dispatch({ type: FETCH_STREAM, payload: response.data });\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`streams/${id}`, formValues);\n\n  dispatch({ type: EDIT_STREAM, payload: response.data });\n  history.push('/')\n};\n\nexport const deleteStream = (id) => async dispatch => {\n  await streams.delete(`/streams/${id}`);\n\n  dispatch({ type: DELETE_STREAM, payload: id });\n  history.push('/')\n};\n\n\n","// Good for actions and reducers\n// strings spelling errors dont render within editor but variables do\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const CREATE_STREAM = 'CREATE_STREAM';\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\nexport const FETCH_STREAM = 'FETCH_STREAM';\nexport const DELETE_STREAM = 'DELETE_STREAM';\nexport const EDIT_STREAM = 'EDIT_STREAM';\n\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\n\nclass StreamForm extends React.Component {\n\n  renderError({error, touched }) {\n    if (touched && error) {\n      return(\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  }\n\n  renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\n    return(\n      <div className={className}>\n        <label>{label}</label>\n        <input { ...input } autoComplete='off' />\n        {this.renderError(meta)}\n      </div>\n    );\n  }\n\n  onSubmit = (formValues) => {\n    // Changed to accept a callback called onSubmit from parent component\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\">\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\"/>\n        <Field name=\"description\" component={this.renderInput} label=\"Enter Description\"/>\n        <button className=\"ui button primary\">Submit</button>\n      </form>\n    );\n  }\n}\n\nconst validate = (formValues) => {\n  const errors = {};\n\n  if (!formValues.title) {\n    errors.title = 'You must enter a title';\n  }\n  if (!formValues.description) {\n    errors.description = 'You must enter a description';\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'streamForm',\n  validate: validate\n})(StreamForm);\n\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamCreate extends React.Component {\n  onSubmit = (formValues) => {\n    this.props.createStream(formValues);\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { createStream: createStream })(StreamCreate);\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream, editStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\n// import { Link } from 'react-router-dom';\n\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = (formValues) => {\n    this.props.editStream(this.props.match.params.id, formValues)\n  };\n\n  render() {\n    console.log(this.props)\n    if (!this.props.stream) {\n      return <div>Loading</div>;\n    }\n\n    return(\n      <div>\n        <h3>Edit Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, 'title', 'description')}\n          onSubmit={this.onSubmit}/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n};\n\nexport default connect(mapStateToProps, { fetchStream: fetchStream, editStream: editStream })(StreamEdit);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import history from '../history';\n\n\nconst Modal = (props) => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div onClick={(e) => e.stopPropagation()} className=\"ui standard modal visible active\">\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">\n          {props.content}\n        </div>\n        <div className=\"actions\">\n          {props.actions}\n        </div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport Modal from '../Modal';\nimport history from '../../history';\nimport { deleteStream, fetchStream } from '../../actions';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    // this.props.fetchStream(this.props.match.params.id).then(() => {\n    //   console.log(this.props);\n    //   console.log(this.props.streams[0].title);\n    // })\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onDeleteStream = (props) => {\n    this.props.deleteStream(this.props.match.params.id);\n  }\n\n  renderActions() {\n    return (\n      // Invisible tag -- nothing rendered to the DOM\n      // Div threw off styling\n      <React.Fragment>\n        <button onClick={this.onDeleteStream} className=\"ui button negative\">Delete</button>\n        <Link to='/' className=\"ui button\">Cancel</Link>\n      </React.Fragment>\n    );\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return 'Are you sure you want to delete this stream?'\n    }\n\n    return `Are you sure you want to delete ${this.props.stream.title}`\n  }\n\n  render() {\n    return(\n        <Modal\n          title='Delete Stream'\n          content={this.renderContent()}\n          actions={this.renderActions()}\n          onDismiss={() => history.push('/')}\n        />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(mapStateToProps, { deleteStream: deleteStream, fetchStream: fetchStream })(StreamDelete);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchStreams } from '../../actions';\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream) {\n    if (stream.userId === this.props.currentUserId) {\n      return(\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n            Edit\n          </Link>\n          <Link to={`/streams/delete/${stream.id}`} className=\"ui button negative\">\n            Delete\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  renderList = () => {\n    return this.props.streams.map((stream) => {\n      // {this.renderAdmin(stream) moved to the top for semantic ui to work properly}\n      // was called before last /div\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\"></i>\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`}>\n              {stream.title}\n            </Link>\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderCreate() {\n    if (this.props.isSignedIn) {\n      return(\n        <div style={{ textAlign: 'right' }}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return(\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">\n          {this.renderList()}\n        </div>\n        {this.renderCreate()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  };\n}\n\nexport default connect(mapStateToProps, { fetchStreams: fetchStreams })(StreamList);\n","import React from 'react';\nimport flv from 'flv.js';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {  fetchStream } from '../../actions';\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n\n    this.props.fetchStream(id);\n\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n\n  }\n  componentWillUnmount(){\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n    const { id } = this.props.match.params;\n\n    this.player = flv.createPlayer({\n      type: 'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>\n    }\n\n    const { title, description } = this.props.stream;\n\n    return(\n      <div>\n        <video ref={this.videoRef} style={{ width: '100%' }} controls={true}/>\n        <h1>{title}</h1>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n\n  render() {\n    return(\n      <div>\n        <div>\n          {this.renderContent()}\n        </div>\n        <Link to='/' className=\"ui button primary\">Back</Link>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n}\n\nexport default connect(mapStateToProps, { fetchStream: fetchStream})(StreamShow);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { signIn, signOut } from '../actions';\nrequire('dotenv').config()\n\nclass GoogleAuth extends React.Component {\n  // Initializes the library\n  componentDidMount() {\n    const REACT_APP_GOOGLE_KEY = process.env.REACT_APP_GOOGLE_KEY;\n\n    window.gapi.load('client:auth2', () => {\n      // .init is async network request\n      window.gapi.client.init({\n        clientId: REACT_APP_GOOGLE_KEY,\n        scope: 'email'\n      }).then(() => {\n        // code will only be executed once gapi library is ready to go\n        this.auth = window.gapi.auth2.getAuthInstance();\n\n        this.onAuthChange(this.auth.isSignedIn.get());\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      });\n    });\n  }\n\n  onAuthChange = (isSignedIn) => {\n    if (isSignedIn) {\n      // action creators\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null;\n    } else if (this.props.isSignedIn) {\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n        <i className=\"google icon\"></i>\n        Sign Out\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n        <i className=\"google icon\"></i>\n        Sign In with Google\n        </button>\n      );\n    }\n  }\n\n  render() {\n    return(\n      <div> {this.renderAuthButton()} </div>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport GoogleAuth from './GoogleAuth';\n\nconst Header = () => {\n  return(\n    <div className=\"ui secondary pointing menu\">\n      <Link to='/' className=\"item\">\n        Streamy\n      </Link>\n      <div className=\"right menu\">\n        <Link to='/' className=\"item\">\n          All Streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamEdit from './streams/StreamEdit';\nimport StreamDelete from './streams/StreamDelete';\nimport StreamList from './streams/StreamList';\nimport StreamShow from './streams/StreamShow';\nimport Header from './Header';\nimport history from '../history';\n\nconst App = () => {\n  // Switch will solve the router showing both create and show in #create\n  // does this because of the :id placeholder === create as well\n  return(\n    <div className=\"ui container\">\n      <Router history={history}>\n      <div>\n        <Header />\n        <Switch>\n          <Route path='/' exact component={StreamList} />\n          <Route path='/streams/new' exact component={StreamCreate} />\n          <Route path='/streams/edit/:id' exact component={StreamEdit} />\n          <Route path='/streams/delete/:id' exact component={StreamDelete} />\n          <Route path='/streams/:id' exact component={StreamShow} />\n        </Switch>\n      </div>\n      </Router>\n    </div>\n  );\n\n};\n\nexport default App;\n\n// 745524184174-6o34415o3e80e7mt45djb19jv09eduhl.apps.googleusercontent.com\n","import { SIGN_IN, SIGN_OUT }  from '../actions/types';\n\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload }\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport authReducer from './authReducer';\nimport streamReducer from './streamReducer';\n\n// form key needs to be exact (form doc)\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n});\n","import _ from 'lodash';\nimport {\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n}  from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch(action.type) {\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, 'id')};\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case DELETE_STREAM:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider >,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}